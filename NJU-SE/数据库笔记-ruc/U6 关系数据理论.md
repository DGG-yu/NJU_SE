---
title: 第六单元 关系数据理论
date: 2019-09-09 5:03:10
categories: 幽邃研路
tags: [考研,人大855,数据库]
---
### 6.1 问题的提出
涉及任何数据库应用系统，都会遇到如何构造合适的数据模式即逻辑结构的问题，由于关系模型有严格的数学定义，并可以向其他的数据模型转换。我们就以关系数据模型为背景讨论这个问题，形成了关系数据库的规范化理论  

在这里关系模式视为：R(U,F)，关系名，属性，依赖  

第一范式（1NF）：每一个分量必须是不可分的数据项  
数据依赖：一个关系内部属性和属性之间的一种约束关系。这种约束关系是通过属性间值的相等与否体现出来的数据见相关联系
<!--more--> 
数据依赖中较为重要的是**函数依赖**和**多值依赖**  

函数依赖：一个属性的确定，可以使得我们确定另外一个属性  

一个只满足1NF的关系模式一般会出现下列问题：  
1. 数据冗余
2. 更新一场
3. 插入异常
4. 删除异常

一个好的模式应当：不会发生插入异常，删除异常，和更新异常，数据冗余应尽可能少  

不好是因为数据依赖有一些不好的性质。何为不好的性质，下边讲：  

### 6.2 规范化
找出全部依赖-->判断有无不合适的性质-->将不合适的关系转化成更合适的形式   

#### 6.2.1 函数依赖
定义：设R(U)是属性集U上的关系模式，X,Y是U的子集，若对于R(U)的任意一个可能的关系r，r中不可能存在两个远足在X上的属性值相等，而在Y上的属性值不等，则称X函数确定Y或者Y函数依赖于X，记作X->Y  
##### 说明：
1. 函数依赖和别的数据依赖一样是**语义**范畴的概念，只能根据语义来确定一个函数依赖  
2. 函数依赖是指R上的一切关系所要满足的约束条件  

##### 其他术语：
1. 非平凡的函数依赖：X->Y, Y不是X的子集
2. 平凡的函数依赖：X->Y, Y是X的子集
3. 平凡的函数依赖总是成立的，平常的函数依赖默认指非平凡函数依赖
4. 决定因素：X->Y，则X称为这个函数依赖的决定属性组，又称
5. X->Y, Y->X, 则X<-->Y

##### 完全函数依赖
定义：在R(U)中，如果X->Y，并且对于X的任何一个真子集X'，都有X'推不出Y，则称Y对X完全函数依赖
若X->Y，但又不是完全函数依赖，则为部分函数依赖

##### 传递函数依赖
定义：在R(U)中，如果X->Y, Y->Z，且Y不是X的子集，Z不是Y的子集，且X不函数依赖与于Y，则Z对X传递函数依赖。

若Y->X，则为直接函数依赖  

#### 6.2.2 码

1. 候选码：设K为R(U,F)中的属性或者属性组，如果U完全函数依赖于K，则K为R的候选码
2. **超码：在上半句的基础上，如果U部分函数依赖于K，则K为超码**
3. **候选码是最小的超码，即K的任何一个真子集都不是候选码**
4. 主码：若候选码多于1个，则选定其中的一个称为主码
5. **主属性：包含在任意一个候选码中的属性都称为主属性**
6. 不包含在任何候选码中的属性称为非主属性
7. 全码：整个属性组是码
8. 关系模式R中属性或属性组X并非R的码，但X是另一个关系模式的码，则称X是R的外部码，也称外码

#### 6.2.3 范式
**关系数据库中的关系是要满足一定要求的，满足不同程度要求的为不同范式**
现在将范式理解为符合某一种级别的关系模式的集合  
**一个低一级范式的关系模式通过模式分解可以从转换为若干个高一级范式的关系模式的集合，这种过程就叫规范化**  

#### 6.2.4 2NF
定义：若R∈1NF，且每一个非主属性完全函数依赖于任何一个候选码，则R∈2NF.  

一个关系模式如果不属于2NF就会造成：  
1. 插入异常
2. 删除异常
3. 修改复杂

#### 6.2.5 3NF
若满足3NF，则每一个非主属性既不传递依赖于码，又不部分依赖于码  
#### 6.2.6 BCNF
定义：关系模式R<U,F>∈1NF，若X->Y且Y不是X的子集时X必含有码，则R<U,F>∈BCNF  
也就是说，**关系模式R<U,F>中，若每一个决定因素都包含码，则E<U,F>∈BCNF。**  

BCNF以下，处理的都是非主属性和主属性之间的问题，而BCNF处理的，是主属性之间的部分函数依赖和传递函数依赖  

一个关系模式如果属于BCNF，那么在函数依赖范畴，它已实现了彻底的分离  

#### 6.2.7 多值依赖  











